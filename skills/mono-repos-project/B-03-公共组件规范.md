# B-03 公共组件规范（联邦项目）

联邦项目下公共组件分为**跨应用共享**与**应用内公共**两类，放置位置不同。

- **共享组件**（跨多个 app）：放在 `packages/shared-ui`，供各 app 通过 workspace 引用；命名、Props/Emits、与业务解耦等要求与共用规则一致；**不依赖**具体 app 的 api/store，可依赖 `shared-utils`、`shared-types`。
- **应用内公共组件**：放在各 app 的 `src/components/`；仅本 app 使用的业务组件放对应 `views/xxx/components/`。
- **命名**：PascalCase，多词（如 `UserAvatar`、`DataTable`）。
- **Props/Emits**：用 `defineProps`/`defineEmits` 且带类型；复杂 Props 用接口定义在组件文件内或 `shared-types`。
- **边界**：shared-ui 不依赖任何 app；应用内公共组件不直接依赖其他 app 的 api/store。
- **文档**：组件顶部用中文注释说明用途、主要 props。

### 示例（共享组件 Vue3 script setup + 类型）

```vue
<!-- packages/shared-ui/src/Button.vue -->
<!-- 通用按钮，供各 app 使用 -->
<script setup lang="ts">
interface Props {
  type?: 'primary' | 'default'
  disabled?: boolean
}
const props = withDefaults(defineProps<Props>(), { type: 'default', disabled: false })
const emit = defineEmits<{ (e: 'click'): void }>()
</script>

<template>
  <button
    :class="['os023-btn', `os023-btn--${props.type}`]"
    :disabled="props.disabled"
    @click="emit('click')"
  >
    <slot />
  </button>
</template>
```

共用规则见 [shared/03-公共组件规范.md](../shared/03-公共组件规范.md)。
