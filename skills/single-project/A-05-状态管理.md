# A-05 状态管理（单项目）

单项目下仅一个应用，所有 Pinia store 在本仓库内、为**同一应用**服务。

- **库**：Pinia。
- **位置**：`src/stores/`，按业务域建文件（如 `user.ts`、`app.ts`），避免单文件过大。
- **与请求配合**：接口数据如需跨页面共享再放入 store；仅单页使用的放在页面或 composable 中。
- **命名**：store id 与文件名一致，清晰表达用途（如 `useUserStore` 对应 `user.ts`）。

无多应用共享状态需求，无需区分「应用级」与「全局」；所有 store 即本应用全局。

### 示例（Pinia store）

```ts
// src/stores/user.ts
import { defineStore } from 'pinia'

export const useUserStore = defineStore('user', {
  state: () => ({ name: '', rid: 0 }),
  actions: {
    setUser(payload: { name: string; rid: number }) {
      this.name = payload.name
      this.rid = payload.rid
    },
  },
})
```

```vue
<!-- 页面中使用 -->
<script setup lang="ts">
import { useUserStore } from '@/stores/user'
const userStore = useUserStore()
</script>
```

共用规则见 [shared/05-状态管理.md](../shared/05-状态管理.md)。
