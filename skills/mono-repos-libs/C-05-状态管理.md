# C-05 状态管理（联邦库）

联邦库下**库包通常不内置 Pinia**；状态由使用库的**主应用**管理。若库提供与状态相关的 composable（如 useTheme），以无状态或可插拔方式设计。

- **库内**：不在库包中安装或导出 Pinia store；不依赖主应用的状态。
- **可选**：若提供「主题」「语言」等与 UI 相关的可复用状态逻辑，以 composable 形式导出，内部可用 provide/inject 或纯函数，由主应用注入依赖。
- **主应用**：安装库后，在应用内按 A 或 B 的 05-状态管理 约定使用 Pinia；库仅提供组件与工具，不参与应用状态树。

其余见 [shared/05-状态管理.md](../shared/05-状态管理.md)；库模式中「状态管理」由使用方负责。
